Test Results original and improved:

Original: 
â€¦individual_assignment % python3 test_assistant_original.py

ðŸ§ª Market Research Assistant â€” Evaluation Suite
   Industries tested: fintech, finance, aviation, tech
   Note: 15s sleep between LLM calls â€” this will take ~10 mins total


============================================================
Q1 â€” Input Validation
============================================================
  (sleeping 15s between calls to respect rate limits)

  [âœ“] 'fintech' â†’ VALID
  [âœ“] 'finance' â†’ VALID
  [âœ“] 'aviation' â†’ VALID
  [âœ“] 'tech' â†’ VALID
  [âœ“] '' â†’ INVALID
  [âœ“] '42' â†’ INVALID
  [âœ“] '!!!' â†’ INVALID
  [âœ“] 'asdfghjkl' â†’ INVALID

  Accuracy: 8/8 = 100%

  Pausing 60s before Q2 to reset rate limit...

============================================================
Q2 â€” URL Relevance (Precision / Recall / F1)
============================================================
  Ground truth defined by manually reviewing assistant outputs.

  Industry: fintech
  Retrieved titles:
    âœ— ozerk ozan
    âœ“ financial technology
    âœ— lendingclub
    âœ— list of brearley school alumnae
    âœ“ klarna
  TP:2  FP:3  FN:18
  Precision: 0.4  Recall: 0.1  F1: 0.16

  Industry: finance
  Retrieved titles:
    âœ“ financial services
    âœ— legal financing industry
    âœ“ ministry of economics and finance (france)
    âœ— offshore financial centre
    âœ“ trade finance technology
  TP:3  FP:2  FN:18
  Precision: 0.6  Recall: 0.14  F1: 0.23

  Industry: aviation
  Retrieved titles:
    âœ“ aerospace manufacturer
    âœ“ aviation industry corporation of china
    âœ“ utva aviation industry
    âœ“ shahed aviation industries
    âœ“ dassault aviation
  TP:5  FP:0  FN:18
  Precision: 1.0  Recall: 0.22  F1: 0.36

  Industry: tech
  Retrieved titles:
    âœ“ technology company
    âœ— high tech
    âœ— tech bro
    âœ— science and technology in israel
    âœ“ semiconductor industry in china
  TP:2  FP:3  FN:18
  Precision: 0.4  Recall: 0.1  F1: 0.16

  Average F1 across all industries: 0.23

  Pausing 60s before Q3 to reset rate limit...

============================================================
Q3 â€” Report Faithfulness (Cosine Similarity)
============================================================
  Method: embed report + source pages using Gemini embeddings,
  compute cosine similarity. Higher = more grounded in sources.

  Generating report for: fintech...

  Industry       : fintech
  Cosine sims    : [np.float64(0.71), np.float64(0.834), np.float64(0.669), np.float64(0.509), np.float64(0.701)]
  Average sim    : 0.684
  Word count     : 282 âœ“

  Generating report for: finance...

  Industry       : finance
  Cosine sims    : [np.float64(0.812), np.float64(0.728), np.float64(0.69), np.float64(0.721), np.float64(0.74)]
  Average sim    : 0.738
  Word count     : 373 âœ“

  Generating report for: aviation...

  Industry       : aviation
  Cosine sims    : [np.float64(0.829), np.float64(0.738), np.float64(0.717), np.float64(0.724), np.float64(0.695)]
  Average sim    : 0.741
  Word count     : 377 âœ“

  Generating report for: tech...

  Industry       : tech
  Cosine sims    : [np.float64(0.857), np.float64(0.73), np.float64(0.686), np.float64(0.717), np.float64(0.727)]
  Average sim    : 0.743
  Word count     : 301 âœ“

  Average cosine similarity across industries: 0.727

============================================================
SUMMARY
============================================================
  Q1 Validation accuracy          : 100%
  Q2 URL relevance avg F1         : 0.23
  Q3 Report faithfulness avg cos  : 0.727
============================================================

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

Improved:
â€¦individual_assignment % python3 test_assistant_improved.py

ðŸ§ª Market Research Assistant â€” Evaluation Suite
   Industries tested: fintech, finance, aviation, tech
   Note: 15s sleep between LLM calls â€” this will take ~10 mins total


============================================================
Q1 â€” Input Validation
============================================================
  (sleeping 15s between calls to respect rate limits)

  [âœ“] 'fintech' â†’ VALID
  [âœ“] 'finance' â†’ VALID
  [âœ“] 'aviation' â†’ VALID
  [âœ“] 'tech' â†’ VALID
  [âœ“] '' â†’ INVALID
  [âœ“] '42' â†’ INVALID
  [âœ“] '!!!' â†’ INVALID
  [âœ“] 'asdfghjkl' â†’ INVALID

  Accuracy: 8/8 = 100%

  Pausing 60s before Q2 to reset rate limit...

============================================================
Q2 â€” URL Relevance (Precision / Recall / F1)
============================================================
  Ground truth defined by manually reviewing assistant outputs.

  Industry: fintech
  Retrieved titles:
    âœ“ financial technology
    âœ“ open banking
    âœ“ paypal
    âœ“ visa inc.
    âœ“ mastercard
  TP:5  FP:0  FN:15
  Precision: 1.0  Recall: 0.25  F1: 0.4

  Industry: finance
  Retrieved titles:
    âœ“ finance
    âœ“ financial services
    âœ“ jpmorgan chase
    âœ— visa inc.
    âœ— mastercard
  TP:3  FP:2  FN:17
  Precision: 0.6  Recall: 0.15  F1: 0.24

  Industry: aviation
  Retrieved titles:
    âœ“ aviation
    âœ“ history of aviation
    âœ“ boeing
    âœ“ airbus
    âœ“ lockheed martin
  TP:5  FP:0  FN:15
  Precision: 1.0  Recall: 0.25  F1: 0.4

  Industry: tech
  Retrieved titles:
    âœ“ information technology
    âœ“ apple inc.
    âœ“ microsoft
    âœ“ amazon (company)
    âœ“ alphabet inc.
  TP:5  FP:0  FN:15
  Precision: 1.0  Recall: 0.25  F1: 0.4

  Average F1 across all industries: 0.36

  Pausing 60s before Q3 to reset rate limit...

============================================================
Q3 â€” Report Faithfulness (Cosine Similarity)
============================================================
  Method: embed report + source pages using Gemini embeddings,
  compute cosine similarity. Higher = more grounded in sources.

  Generating report for: fintech...

  Industry       : fintech
  Cosine sims    : [np.float64(0.815), np.float64(0.709), np.float64(0.713), np.float64(0.748), np.float64(0.729)]
  Average sim    : 0.743
  Word count     : 383 âœ“

  Generating report for: finance...

  Industry       : finance
  Cosine sims    : [np.float64(0.85), np.float64(0.748), np.float64(0.704), np.float64(0.72), np.float64(0.74)]
  Average sim    : 0.753
  Word count     : 323 âœ“

  Generating report for: aviation...

  Industry       : aviation
  Cosine sims    : [np.float64(0.744), np.float64(0.815), np.float64(0.772), np.float64(0.75), np.float64(0.745)]
  Average sim    : 0.765
  Word count     : 330 âœ“

  Generating report for: tech...

  Industry       : tech
  Cosine sims    : [np.float64(0.769), np.float64(0.701), np.float64(0.711), np.float64(0.704), np.float64(0.666)]
  Average sim    : 0.71
  Word count     : 320 âœ“

  Average cosine similarity across industries: 0.743

============================================================
SUMMARY
============================================================
  Q1 Validation accuracy          : 100%
  Q2 URL relevance avg F1         : 0.36
  Q3 Report faithfulness avg cos  : 0.743
============================================================

